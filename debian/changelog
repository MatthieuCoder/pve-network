libpve-network-perl (0.8.1) bookworm; urgency=medium

  * fix #4657: evpn: fix exit-node with multiple vrf

  * fix #4425: vxlan, evpn: add vxlan-port option to override default

  * fix #4662: frr: fix config generation ordering

  * fix #4389: evpn: exit nodes: null routes subnets from other zones

  * fix #4683: zones: QinQ: fix vlan-protocol when bridge is VLAN aware

  * network reload: fix UPID parsing for the case where a task produced
    warnings or errors

 -- Proxmox Support Team <support@proxmox.com>  Tue, 06 Jun 2023 08:07:19 +0200

libpve-network-perl (0.8.0) bookworm; urgency=medium

  * re-build for Proxmox VE 8 / Debian 12 Bookworm

 -- Proxmox Support Team <support@proxmox.com>  Thu, 25 May 2023 18:18:20 +0200

libpve-network-perl (0.7.3) bullseye; urgency=medium

  * controllers: evpn: correctly limit the number of controllers to maximal
    one

  * frr: add support for prefix-list in config

 -- Proxmox Support Team <support@proxmox.com>  Mon, 20 Mar 2023 17:19:14 +0100

libpve-network-perl (0.7.2) bullseye; urgency=medium

  * frr: update config frrversion to 8.2.2

  * frr: add a local config parser and if configured merge with
    generated config

  * frr: config : add exit on router && routemaps to future proof
    against upcoming FRR releases

 -- Proxmox Support Team <support@proxmox.com>  Mon, 14 Nov 2022 14:08:26 +0100

libpve-network-perl (0.7.1) bullseye; urgency=medium

  * controllers: evpn: use frr restart if reload fails

  * zonee: TAP plug: add support for disable bridge learning and helpers to
    manage FDB entries manually

  * controllers: evpn: fix multiple exit-nodes with route-map filtering

 -- Proxmox Support Team <support@proxmox.com>  Wed, 27 Apr 2022 10:33:13 +0200

libpve-network-perl (0.7.0) bullseye; urgency=medium

  * controllers:
    + allow minus and underscore in IDs again
    + bgp: use loopback ip src for loopback network
    + bgp: add bgp-multipath-as-path-relax option
    + evpn: add min/max value to asn
    + evpn/bgp : add exitnodes-primary && rework route-map
    + evpn: add missing bgp router-id in vrf
    + evpn: remove "no bgp ebgp-requires-policy"

  * zones status: skip reporting on nodes not configured for a zone

  * zones evpn: add rt-import allowing one to import external route target list
    from external evpn network, e.g., for  DC inter-connect

 -- Proxmox Support Team <support@proxmox.com>  Sun, 13 Feb 2022 15:04:49 +0100

libpve-network-perl (0.6.2) bullseye; urgency=medium

  * evpn : add "ip route del vrf vrf_myzone unreachable default metric
    4278198272" on exit node

  * get_local_vnets: add permissions on /sdn/vnets/*

  * evpn : add advertise-subnets and exitnodes-local-routing option

  * vnet/subnet : add skipdns option

  * api: zones: fix update

  * zones: evpn: add disable-arp-nd-suppression option

  * vnets: alias: check pattern and fix regex

 -- Proxmox Support Team <support@proxmox.com>  Fri, 12 Nov 2021 19:33:54 +0100

libpve-network-perl (0.6.1) bullseye; urgency=medium

  * sdn: get local vnets : add IPAM and VLAN-aware values

  * IPAM: IPv6 fixes

  * subnets/ipam: fix is_gateway helper usage

 -- Proxmox Support Team <support@proxmox.com>  Mon, 05 Jul 2021 19:07:52 +0200

libpve-network-perl (0.6.0) buster; urgency=medium

  * zones: QinQ: classic bridge: fix bridge zone name with multiple zones/vnets

  * zones: QinQ: ovs: fix duplicate ovs_ports with multiple zones/vnets

  * d/control: fix package description

  * zone: QinQ: add VNet without tag support

  * zone/subnets: fix more cases when no IPAM is defined in the configuration

  * zones: simple, evpn: only enable IP-forwarding if a gateway is defined on
    the subnet

 -- Proxmox Support Team <support@proxmox.com>  Mon, 10 May 2021 10:44:56 +0200

libpve-network-perl (0.5-2) pve; urgency=medium

  * zones: make IPAM config optional for all zone plugins

  * zone status: mark VNets with unknown zone as failed and early return to
    avoid spamming the log with 'Use of uninitialized value' messages.

 -- Proxmox Support Team <support@proxmox.com>  Wed, 28 Apr 2021 18:25:18 +0200

libpve-network-perl (0.5-1) pve; urgency=medium

  * add foundation for IP Adresss Management (IPAM)
    + add subnet plugin
    + vnets: add subnets
    + zones: simple|evpn: add gateway ip from subnets to vnet
    + add IPAMs plugins
    + add DNS plugin

  * fix vnet gateway for routed setup + /32 pointopoint subnet

  * api: generate 'running-config' state instead of version increase on apply

  * api: add running/pending zones/vnets/subnets/controllers

  * zones: evpn : add support for loopback

  * zones: evpn/simple: add missing mask to gateway address

  * evpn: frr: use datacenter default profile (lower timeouts)

  * get local VNets: display vnet alias in comments

  * use canonical ipv6 address (RFC 5952) everywhere

  * zones: evpn: fix exitnodes for SNAT

  * zones: evpn: move vnet mac option to evpn zone plugin

  * zones: evpn: fix arp-accept and ip-forward with IPv6 SNAT

  * zones: simple: fix ip-forward && IPv6 SNAT

  * controllers: increase controllerid to 64 characters max

 -- Proxmox Support Team <support@proxmox.com>  Mon, 26 Apr 2021 16:51:32 +0200

libpve-network-perl (0.4-7) pve; urgency=medium

  * improve status API

  * use more flexible split_list for ip lists to allow various common separators

  * vnet: make tag optional and verify value in zone plugins

  * add a 'simple' plugin

 -- Proxmox Support Team <support@proxmox.com>  Fri, 03 Jul 2020 14:14:48 +0200

libpve-network-perl (0.4-6) pve; urgency=medium

  * add vnet vlan-aware option for layer2 plugins

  * vlan: ovs: use dot1q-tunnel with 802.1q when vlanaware is enabled

  * qinq|vlan: ovs: add ovsint interfaces to ovs-ports list

  * vlan|qinq: add mtu to ovsint link port

 -- Proxmox Support Team <support@proxmox.com>  Wed, 03 Jun 2020 14:15:42 +0200

libpve-network-perl (0.4-5) pve; urgency=medium

  * api: fix reload-all UPID handling

  * restrict zone and vnet names to 8 characters

  * VLAN, QinQ: avoid tagging VM/CT ports directly

  * VXLAN, EVPN: prefix internal interface names

 -- Proxmox Support Team <support@proxmox.com>  Tue, 19 May 2020 21:23:01 +0200

libpve-network-perl (0.4-4) pve; urgency=medium

  * only parse version if local sdn file exists

  * d/control: recommend frr-pythontools, ifupdown2

  * vlan plugin: add support for no vlan-aware bridge

 -- Proxmox Support Team <support@proxmox.com>  Sun, 10 May 2020 17:08:04 +0200

libpve-network-perl (0.4-3) pve; urgency=medium

  * use .version and global lock instead of .new files

 -- Proxmox Support Team <support@proxmox.com>  Sat, 02 May 2020 19:20:33 +0200

libpve-network-perl (0.4-2) pve; urgency=medium

  * vlan/qinq: use vlan-raw-device to support long predictable interfaces name

  * evpn: add support for local frr.config

  * controller : evpn : only allow 1 evpn controller

  * API2: Vnets: fix update

  * vlan/qinq: use bridge option instead uplink-id

  * move status code to zone plugin

  * qinq, vlanplugin: add status

  * move mtu properties to zone

  * add get_bridge_vlan

  * add tap|veth create|plug

  * add get_local_vnets

 -- Proxmox Support Team <support@proxmox.com>  Wed, 08 Apr 2020 19:58:10 +0200

libpve-network-perl (0.3-3) pve; urgency=medium

  * evpn: remove uplink-id, auto find interfaces instead

  * zones: vxlan : remove uplink-id (autofind) and multicast (not really used)

  * ensure /etc/pve/sdn directory is created when writing to configuration

 -- Proxmox Support Team <support@proxmox.com>  Mon, 02 Dec 2019 09:50:39 +0100

libpve-network-perl (0.3-2) pve; urgency=medium

  * add faucet, evpn, qinq Plugins

  * add permissions

  * general refactoring

 -- Proxmox Support Team <support@proxmox.com>  Tue, 26 Nov 2019 12:56:55 +0100

libpve-network-perl (0.3-1) pve; urgency=medium

  * add FRR plugin

  * VXLAN: add VRF and VRFVXLAN

  * VXLAN: add support for ipv4/ipv6/mac for anycast routing

  * VXLAN: add ip-forward|ip6-forward|arp-accept for routing

  * VXLAN: add gateway-nodes option

  * VXLAN: EVPN: fix routing to local vms on gateway nodes

  * general fixes and improvements

 -- Proxmox Support Team <support@proxmox.com>  Fri, 20 Sep 2019 16:57:42 +0200

libpve-network-perl (0.2-1) pve; urgency=medium

  * add API

  * improve VNET, VXLAN and VXLAN Multicast plugins

  * use SDN (Software Defined Network) as base module path

 -- Proxmox Support Team <support@proxmox.com>  Tue, 18 Jun 2019 10:19:25 +0200

libpve-network-perl (0.1-1) unstable; urgency=medium

  * Initial release 

 -- Proxmox Support Team <support@proxmox.com>  Wed, 27 Mar 2019 12:50:26 +0100

